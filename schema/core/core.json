{
  "$schema" : "http://json-schema.org/draft-07/schema#",
  "type" :  "object",
  "allOf" : [
    {
      "properties" : {
        "mType" : {
          "description" : "Supported RSMP versions",
          "type" : "string",
          "const" : "rSMsg"
        },
        "type" : {
          "description" : "Type of RMSP message",
          "type" : "string",
          "enum" : [
            "MessageAck",
            "MessageNotAck",
            "Version",
            "AggregatedStatus",
            "Watchdog",
            "Alarm",
            "CommandRequest",
            "CommandResponse",
            "StatusRequest",
            "StatusResponse",
            "StatusSubscribe",
            "StatusUnsubscribe",
            "StatusUpdate"
          ]
        }
      },
      "required" : [ "mType", "type" ]
    },
    {
      "if" : { "required": ["type"], "properties" : { "type" : { "enum" : [ "MessageAck", "MessageNotAck" ] }}},
      "then" : {},
      "else" : {
        "properties" : {
          "mId" : {
            "$ref": "definitions.json#/message_id"
          }
        },
        "required" : [ "mId" ]
      }
    }
  ]
}
