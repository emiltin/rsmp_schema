{
  "$schema" : "http://json-schema.org/draft-07/schema#",
  "title" :  "RSMP message",
  "description" :  "Common RSMP message properties",
  "type" :  "object",
  "properties" : {
    "mType" : {
      "description" : "Supported RSMP versions",
      "type" : "string",
      "pattern" : "^rSMsg$"
    },
    "type" : {
      "description" : "Type of RMSP message",
      "type" : "string",
      "enum": [
        "MessageAck",
        "MessageNotAck",
        "Version",
        "AggregatedStatus",
        "Watchdog",
        "Alarm",
        "CommandRequest",
        "CommandResponse",
        "StatusRequest",
        "StatusResponse",
        "StatusSubscribe",
        "StatusUnsubscribe",
        "StatusUpdate"
      ]
    },
    "siteId" : {
      "description" : "Site ids",
      "type" : "array",
      "items" : {
        "type" : "object",
        "properties" : {
          "sId" : {
            "type" : "string",
            "pattern" : ".+"
          }
        },
        "required" : [ "sId" ]
      },
      "minItems" : 1,
      "uniqueItems" : true,
      "additionalProperties" : false
    },
    "mId" : {
      "description" : "Message id",
      "type" : "string",
      "pattern" : "^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-4[a-fA-F0-9]{3}-[89abAB][a-fA-F0-9]{3}-[a-fA-F0-9]{12}$"
    }
  },
  "required" : [ "mType", "type", "siteId", "mId" ]
}
